import{j as s,r as m,b as j,a as p,L as d,O as v}from"./index-50c27fd0.js";import{s as e,N,a,M as u}from"./MovieDetails.module-3c89868d.js";import{a as f}from"./films-0430d5ef.js";import{C as g}from"./Container-87ee7084.js";import"./iconBase-bb144061.js";import"./api-19539072.js";const w=({info:r})=>{const{poster_path:c,original_title:i,vote_average:n,overview:t,genres:l}=r,o="https://image.tmdb.org/t/p/w500",h=()=>Math.round(`${n}`*10);return s.jsxs("div",{className:e.wrapper,children:[s.jsx("div",{className:e.pictureThumb,children:s.jsx("img",{src:c?`${o}${c}`:N,alt:i,width:"500",className:e.picture})}),s.jsxs("div",{className:e.container,children:[s.jsx("h1",{className:e.title,children:i}),s.jsxs("p",{className:e.score,children:["User Score: ",h(),"%"]}),s.jsx("p",{className:e.infoTitle,children:"Overview"}),s.jsx("p",{className:e.overview,children:t}),s.jsx("p",{className:e.infoTitle,children:"Genres"}),s.jsx("p",{className:e.genres,children:l.map(x=>x.name).join(", ")})]})]})},C=()=>{var l;const[r,c]=m.useState(null),{movieId:i}=j(),n=p();m.useEffect(()=>{f(i).then(c).catch(o=>console.log(o))},[i]);const t=((l=n.state)==null?void 0:l.from)??"/";return s.jsx(g,{children:r&&s.jsxs("div",{className:a.wrapper,children:[s.jsxs(d,{className:a.backButton,to:t,children:[" ",s.jsx(u,{className:a.icon})," Go back"]}),s.jsx(w,{info:r}),s.jsxs("div",{className:a.infoWrap,children:[s.jsxs("div",{className:a.linksWrap,children:[s.jsx("p",{className:a.title,children:"Additional information"}),s.jsxs("ul",{className:a.list,children:[s.jsx("li",{children:s.jsx(d,{className:a.link,to:"cast",state:{from:t},children:"Cast"})}),s.jsx("li",{children:s.jsx(d,{className:a.link,to:"reviews",state:{from:t},children:"Reviews"})})]})]}),s.jsx(m.Suspense,{fallback:s.jsx("div",{children:"Loading..."}),children:s.jsx(v,{})})]})]})})};export{C as default};
